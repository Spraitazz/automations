
------------------------------------------------------
machines/remotes:

workMachine (git repo with a branch called "working")
backupMachine (BARE repo, git remote add backup ssh://worker@diedai)
vilkLapt (for deployment, git remote add deploy ssh://vlkLapt)
github (git remote add github git://mygitlink.com)


------------------------------------------------------
branches:

1. working: do all actual work here


----------------------------------------------------
publishing to remote (better version?)

git switch working

git switch -c deploy

cp deployignore .gitignore

# Tell git to stop tracking all files
git rm --cached -r . 
# re-add only files not ignored by .gitignore
git add . 

mv definitions_deploy.py definitions.py
mv controller_deploy.py controller.py

#git commit -m "what here?"
git commit --amend --no-edit


-----------------------------------------------------
publishing to remote (replace remote: github/deploy):

# Start from working
git switch working

# Create/update a temporary branch
git switch -c main

# Switch to main and reset it to working
git reset --hard working

# Modify .gitignore
cp remoteignore .gitignore
git add .gitignore

# Tell git to stop tracking all files
git rm --cached -r . 
# re-add only files not ignored by .gitignore
git add . 

git commit --amend --no-edit

# Push to remote
git push remote main #--force

git switch working

git branch -d main

-------------------------------------------------------
deploying:

follow instructions above, but add to controller.py:


from spires.run import run as run_spires
from skelbiu.run import run as run_skelbiu

spires_automation = {
    "class": WebAutomation,
    "run_func": run_spires,
    "config_fpath": Path.home() / "automation_configs" / "spires" / "config.ini",
    "with_xvfb": True,
    "run_on_startup": True    
}

skelbiu_automation = {
    "class": WebAutomation,
    "run_func": run_skelbiu,
    "config_fpath": Path.home() / "automation_configs" / "skelbiu" / "config.ini",
    "with_xvfb": True,
    "run_on_startup": True
}

AUTOMATIONS = {
    "spires": spires_automation,
    "skelbiu": skelbiu_automation
}


Finally, IF NEED TO USE LLM SERVER:

add to controller.py:

import llm_server.run

and modify commands "start/stop llm_server" to work

----------------------------------------------------
backup:

# push working branch
git push backup working #--all
# push all tags
git push backup --tags


